# 声明请求示例数据

你可以为你的应用可以接收的数据声明示例。

有几种方法可以实现。

你可以为 Pydantic 模型声明 `examples`, 这些示例将被添加到生成的 JSON Schema 中。

## 1. Pydantic `model_config`

### 1.1 Python 3.10+

```python
from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str  # 物品名称
    description: str | None = None  # 物品描述, 可选
    price: float  # 价格
    tax: float | None = None  # 税费, 可选

    # 使用 model_config 配置 JSON Schema 额外信息
    model_config = {
        "json_schema_extra": {
            "examples": [  # 定义示例数据
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ]
        }
    }

@app.put("/items/{item_id}")
async def update_item(item_id: int, item: Item):
    results = {"item_id": item_id, "item": item}
    return results
```

### 1.2 Python 3.8+

```python
from typing import Union

from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

    # 使用 model_config 配置 JSON Schema 额外信息
    model_config = {
        "json_schema_extra": {
            "examples": [  # 定义示例数据
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ]
        }
    }

@app.put("/items/{item_id}")
async def update_item(item_id: int, item: Item):
    results = {"item_id": item_id, "item": item}
    return results
```

## 2. Pydantic v1 `Config` 类

### 2.1 Python 3.10+

```python
from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None

    # Pydantic v1 使用 Config 类
    class Config:
        schema_extra = {
            "examples": [  # 定义示例数据
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ]
        }

@app.put("/items/{item_id}")
async def update_item(item_id: int, item: Item):
    results = {"item_id": item_id, "item": item}
    return results
```

### 2.2 Python 3.8+

```python
from typing import Union

from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

    # Pydantic v1 使用 Config 类
    class Config:
        schema_extra = {
            "examples": [  # 定义示例数据
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ]
        }

@app.put("/items/{item_id}")
async def update_item(item_id: int, item: Item):
    results = {"item_id": item_id, "item": item}
    return results
```

这些额外的信息将原样添加到该模型的输出 **JSON Schema** 中, 并将用于 API 文档。

### 2.3 Pydantic v2

在 Pydantic v2 中, 你应该使用属性 `model_config`, 它接受一个 `dict`, 如 Pydantic 文档: 配置中所述。

你可以设置 `"json_schema_extra"`, 其中包含一个 `dict`, 包含你希望显示在生成的 JSON Schema 中的任何额外数据, 包括 `examples`。

### 2.4 Pydantic v1

在 Pydantic v1 中, 你应该使用内部类 `Config` 和 `schema_extra`, 如 Pydantic 文档: 模式自定义中所述。

你可以设置 `schema_extra`, 其中包含一个 `dict`, 包含你希望显示在生成的 JSON Schema 中的任何额外数据, 包括 `examples`。

> **提示**
>
> 你可以使用相同的技术来扩展 JSON Schema 并添加你自己的自定义额外信息。
>
> 例如, 你可以使用它来为前端用户界面添加元数据等。

> **信息**
>
> OpenAPI 3.1.0 (FastAPI 0.99.0 开始使用) 添加了对 `examples` 的支持, 它是 **JSON Schema** 标准的一部分。
>
> 在此之前, 它只支持带有单个示例的关键字 `example`。OpenAPI 3.1.0 仍然支持它, 但已弃用, 并且不是 JSON Schema 标准的一部分。因此, 鼓励你将 `example` 迁移到 `examples`。
>
> 你可以在本页末尾阅读更多内容。

## 3. `Field` 额外参数

当使用 `Field()` 和 Pydantic 模型时, 你还可以声明额外的 `examples`:

### 3.1 Python 3.10+

```python
from fastapi import FastAPI
from pydantic import BaseModel, Field

app = FastAPI()

class Item(BaseModel):
    # 为每个字段定义示例
    name: str = Field(examples=["Foo"])
    description: str | None = Field(default=None, examples=["A very nice Item"])
    price: float = Field(examples=[35.4])
    tax: float | None = Field(default=None, examples=[3.2])

@app.put("/items/{item_id}")
async def update_item(item_id: int, item: Item):
    results = {"item_id": item_id, "item": item}
    return results
```

### 3.2 Python 3.8+

```python
from typing import Union

from fastapi import FastAPI
from pydantic import BaseModel, Field

app = FastAPI()

class Item(BaseModel):
    # 为每个字段定义示例
    name: str = Field(examples=["Foo"])
    description: Union[str, None] = Field(default=None, examples=["A very nice Item"])
    price: float = Field(examples=[35.4])
    tax: Union[float, None] = Field(default=None, examples=[3.2])

@app.put("/items/{item_id}")
async def update_item(item_id: int, item: Item):
    results = {"item_id": item_id, "item": item}
    return results
```

## 4. JSON Schema - OpenAPI 中的 `examples`

当使用以下任何方法时:

- `Path()`
- `Query()`
- `Header()`
- `Cookie()`
- `Body()`
- `Form()`
- `File()`

你还可以声明一组 `examples` 以及附加信息, 这些信息将被添加到 **OpenAPI** 内部的 **JSON Schemas** 中。

### 4.1 带有 `examples` 的 `Body`

这里我们传递 `examples`, 其中包含 `Body()` 中预期的数据的一个示例:

#### Python 3.10+ (Annotated)

```python
from typing import Annotated

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None

@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[  # 在 Body 中定义示例数据
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.9+ (Annotated)

```python
from typing import Annotated, Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[  # 在 Body 中定义示例数据
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.8+ (Annotated)

```python
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel
from typing_extensions import Annotated

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[  # 在 Body 中定义示例数据
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.10+ (non-Annotated)

```python
from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None

@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Item = Body(
        examples=[  # 在 Body 中定义示例数据
            {
                "name": "Foo",
                "description": "A very nice Item",
                "price": 35.4,
                "tax": 3.2,
            }
        ],
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.8+ (non-Annotated)

```python
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Item = Body(
        examples=[  # 在 Body 中定义示例数据
            {
                "name": "Foo",
                "description": "A very nice Item",
                "price": 35.4,
                "tax": 3.2,
            }
        ],
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

### 4.2 文档 UI 中的示例

使用上述任何方法, 它在 `/docs` 中看起来会像这样:

![文档 UI 示例](https://fastapi.tiangolo.com/img/tutorial/body-fields/image01.png)

### 4.3 带有多个 `examples` 的 `Body`

你当然也可以传递多个 `examples`:

#### Python 3.10+ (Annotated)

```python
from typing import Annotated

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[  # 定义多个示例
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                },
                {
                    "name": "Bar",
                    "price": "35.4",  # 字符串将被自动转换为数字
                },
                {
                    "name": "Baz",
                    "price": "thirty five point four",  # 这将导致验证错误
                },
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.9+ (Annotated)

```python
from typing import Annotated, Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[  # 定义多个示例
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                },
                {
                    "name": "Bar",
                    "price": "35.4",
                },
                {
                    "name": "Baz",
                    "price": "thirty five point four",
                },
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.8+ (Annotated)

```python
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel
from typing_extensions import Annotated

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[  # 定义多个示例
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                },
                {
                    "name": "Bar",
                    "price": "35.4",
                },
                {
                    "name": "Baz",
                    "price": "thirty five point four",
                },
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.10+ (non-Annotated)

```python
from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Item = Body(
        examples=[  # 定义多个示例
            {
                "name": "Foo",
                "description": "A very nice Item",
                "price": 35.4,
                "tax": 3.2,
            },
            {
                "name": "Bar",
                "price": "35.4",
            },
            {
                "name": "Baz",
                "price": "thirty five point four",
            },
        ],
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.8+ (non-Annotated)

```python
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Item = Body(
        examples=[  # 定义多个示例
            {
                "name": "Foo",
                "description": "A very nice Item",
                "price": 35.4,
                "tax": 3.2,
            },
            {
                "name": "Bar",
                "price": "35.4",
            },
            {
                "name": "Baz",
                "price": "thirty five point four",
            },
        ],
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

当你这样做时, 示例将成为该主体数据的内部 **JSON Schema** 的一部分。

尽管如此, 在编写本文时, 负责显示文档 UI 的工具 Swagger UI 不支持显示 **JSON Schema** 中数据的多个示例。但是请阅读下文以了解解决方法。

### 4.4 OpenAPI 特定的 `examples`

在 **JSON Schema** 支持 `examples` 之前, OpenAPI 已经支持一个不同的字段, 也称为 `examples`。

这个 **OpenAPI 特定的** `examples` 放在 OpenAPI 规范的另一部分中。它放在 **每个路径操作的详细信息中**, 而不是在每个 JSON Schema 内部。

Swagger UI 已经支持这个特定的 `examples` 字段一段时间了。因此, 你可以使用它来 **在文档 UI 中显示** 不同的 **示例**。

这个 OpenAPI 特定的字段 `examples` 的形式是一个 `dict`, 包含 **多个示例** (而不是 `list`), 每个示例都有额外的信息, 这些信息也将添加到 **OpenAPI** 中。

这不会进入 OpenAPI 中包含的每个 JSON Schema 内部, 而是放在外部, 直接放在路径操作中。

### 4.5 使用 `openapi_examples` 参数

你可以在 FastAPI 中使用参数 `openapi_examples` 为以下对象声明 OpenAPI 特定的 `examples`:

- `Path()`
- `Query()`
- `Header()`
- `Cookie()`
- `Body()`
- `Form()`
- `File()`

`dict` 的键标识每个示例, 每个值是另一个 `dict`。

`examples` 中的每个特定示例 `dict` 可以包含:

- `summary`: 示例的简短描述。
- `description`: 可以包含 Markdown 文本的长描述。
- `value`: 这是显示的实际示例, 例如 `dict`。
- `externalValue`: `value` 的替代方案, 指向示例的 URL。虽然这可能不像 `value` 那样被那么多工具支持。

你可以像这样使用它:

#### Python 3.10+ (Annotated)

```python
from typing import Annotated

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            openapi_examples={  # 使用 openapi_examples 定义更详细的示例
                "normal": {
                    "summary": "A normal example",
                    "description": "A **normal** item works correctly.",
                    "value": {
                        "name": "Foo",
                        "description": "A very nice Item",
                        "price": 35.4,
                        "tax": 3.2,
                    },
                },
                "converted": {
                    "summary": "An example with converted data",
                    "description": "FastAPI can convert price `strings` to actual `numbers` automatically",
                    "value": {
                        "name": "Bar",
                        "price": "35.4",
                    },
                },
                "invalid": {
                    "summary": "Invalid data is rejected with an error",
                    "value": {
                        "name": "Baz",
                        "price": "thirty five point four",
                    },
                },
            },
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.9+ (Annotated)

```python
from typing import Annotated, Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            openapi_examples={  # 使用 openapi_examples 定义更详细的示例
                "normal": {
                    "summary": "A normal example",
                    "description": "A **normal** item works correctly.",
                    "value": {
                        "name": "Foo",
                        "description": "A very nice Item",
                        "price": 35.4,
                        "tax": 3.2,
                    },
                },
                "converted": {
                    "summary": "An example with converted data",
                    "description": "FastAPI can convert price `strings` to actual `numbers` automatically",
                    "value": {
                        "name": "Bar",
                        "price": "35.4",
                    },
                },
                "invalid": {
                    "summary": "Invalid data is rejected with an error",
                    "value": {
                        "name": "Baz",
                        "price": "thirty five point four",
                    },
                },
            },
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.8+ (Annotated)

```python
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel
from typing_extensions import Annotated

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            openapi_examples={  # 使用 openapi_examples 定义更详细的示例
                "normal": {
                    "summary": "A normal example",
                    "description": "A **normal** item works correctly.",
                    "value": {
                        "name": "Foo",
                        "description": "A very nice Item",
                        "price": 35.4,
                        "tax": 3.2,
                    },
                },
                "converted": {
                    "summary": "An example with converted data",
                    "description": "FastAPI can convert price `strings` to actual `numbers` automatically",
                    "value": {
                        "name": "Bar",
                        "price": "35.4",
                    },
                },
                "invalid": {
                    "summary": "Invalid data is rejected with an error",
                    "value": {
                        "name": "Baz",
                        "price": "thirty five point four",
                    },
                },
            },
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.10+ (non-Annotated)

```python
from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Item = Body(
        openapi_examples={  # 使用 openapi_examples 定义更详细的示例
            "normal": {
                "summary": "A normal example",
                "description": "A **normal** item works correctly.",
                "value": {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                },
            },
            "converted": {
                "summary": "An example with converted data",
                "description": "FastAPI can convert price `strings` to actual `numbers` automatically",
                "value": {
                    "name": "Bar",
                    "price": "35.4",
                },
            },
            "invalid": {
                "summary": "Invalid data is rejected with an error",
                "value": {
                    "name": "Baz",
                    "price": "thirty five point four",
                },
            },
        },
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

#### Python 3.8+ (non-Annotated)

```python
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None

@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Item = Body(
        openapi_examples={  # 使用 openapi_examples 定义更详细的示例
            "normal": {
                "summary": "A normal example",
                "description": "A **normal** item works correctly.",
                "value": {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                },
            },
            "converted": {
                "summary": "An example with converted data",
                "description": "FastAPI can convert price `strings` to actual `numbers` automatically",
                "value": {
                    "name": "Bar",
                    "price": "35.4",
                },
            },
            "invalid": {
                "summary": "Invalid data is rejected with an error",
                "value": {
                    "name": "Baz",
                    "price": "thirty five point four",
                },
            },
        },
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

### 4.6 文档 UI 中的 OpenAPI 示例

将 `openapi_examples` 添加到 `Body()` 后, `/docs` 将看起来像:

![文档 UI 中的多个示例](https://fastapi.tiangolo.com/img/tutorial/body-fields/image02.png)

## 5. 技术细节

> **提示**
>
> 如果你已经在使用 **FastAPI** 版本 **0.99.0 或更高版本**, 你可能可以 **跳过** 这些细节。
>
> 它们与旧版本更相关, 在 OpenAPI 3.1.0 可用之前。
>
> 你可以将此视为 OpenAPI 和 JSON Schema 的简短 **历史课程**。

> **警告**
>
> 这些是关于标准 **JSON Schema** 和 **OpenAPI** 的非常技术性的细节。
>
> 如果上述 ideas 对你来说已经有效, 那可能就足够了, 你可能不需要这些细节, 可以随时跳过它们。

在 OpenAPI 3.1.0 之前, OpenAPI 使用了旧版本的、经过修改的 **JSON Schema**。

JSON Schema 没有 `examples`, 所以 OpenAPI 在其自己的修改版本中添加了自己的 `example` 字段。

OpenAPI 还将 `example` 和 `examples` 字段添加到了规范的其他部分:

- `Parameter Object` (在规范中), 被 FastAPI 的以下对象使用:
  - `Path()`
  - `Query()`
  - `Header()`
  - `Cookie()`
- `Request Body Object`, 在字段 `content` 中, 在 `Media Type Object` 上 (在规范中), 被 FastAPI 的以下对象使用:
  - `Body()`
  - `File()`
  - `Form()`

> **信息**
>
> 这个旧的 OpenAPI 特定的 `examples` 参数现在从 FastAPI `0.103.0` 开始是 `openapi_examples`。

### 5.1 JSON Schema 的 `examples` 字段

但是随后 JSON Schema 在规范的新版本中添加了 `examples` 字段。

然后新的 OpenAPI 3.1.0 基于最新版本 (JSON Schema 2020-12), 该版本包含了这个新字段 `examples`。

现在这个新的 `examples` 字段优先于旧的单个 (和自定义的) `example` 字段, 后者现在已被弃用。

JSON Schema 中这个新的 `examples` 字段 **只是一个 `list`** 的示例, 而不是像 OpenAPI 中其他地方 (如上所述) 那样带有额外元数据的 dict。

> **信息**
>
> 即使在 OpenAPI 3.1.0 发布并与 JSON Schema 进行了新的更简单集成之后, 提供自动文档的工具 Swagger UI 在一段时间内不支持 OpenAPI 3.1.0 (从 5.0.0 版本开始支持)。
>
> 因此, 0.99.0 之前的 FastAPI 版本仍然使用低于 3.1.0 的 OpenAPI 版本。

### 5.2 Pydantic 和 FastAPI `examples`

当你使用 `schema_extra` 或 `Field(examples=["something"])` 在 Pydantic 模型中添加 `examples` 时, 该示例将被添加到该 Pydantic 模型的 **JSON Schema** 中。

该 Pydantic 模型的 **JSON Schema** 包含在你的 API 的 **OpenAPI** 中, 然后在文档 UI 中使用。

在 0.99.0 之前的 FastAPI 版本中 (0.99.0 及更高版本使用较新的 OpenAPI 3.1.0), 当你对任何其他工具 (`Query()`, `Body()` 等) 使用 `example` 或 `examples` 时, 这些示例不会添加到描述该数据的 JSON Schema 中 (甚至不会添加到 OpenAPI 自己的 JSON Schema 版本中), 它们被直接添加到 OpenAPI 中的 *路径操作* 声明中 (在 OpenAPI 使用 JSON Schema 的部分之外)。

但是现在 FastAPI 0.99.0 及更高版本使用 OpenAPI 3.1.0, 使用 JSON Schema 2020-12, 以及 Swagger UI 5.0.0 及更高版本, 一切都更加一致, 示例包含在 JSON Schema 中。

### 5.3 Swagger UI 和 OpenAPI 特定的 `examples`

现在, 由于 Swagger UI 不支持多个 JSON Schema 示例 (截至 2023-08-26), 用户无法在文档中显示多个示例。

为了解决这个问题, FastAPI `0.103.0` **添加了支持**, 用于使用新参数 `openapi_examples` 声明相同的旧 **OpenAPI 特定的** `examples` 字段。

### 5.4 总结

我过去常说我不太喜欢历史...... 看看我现在, 正在讲授 "技术历史" 课程。

简而言之, **升级到 FastAPI 0.99.0 或更高版本**, 事情会变得 **更简单、更一致、更直观**, 你不必了解所有这些历史细节。
