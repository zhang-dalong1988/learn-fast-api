# 额外数据类型

## 1. 更多数据类型

到目前为止, 你一直使用常见的数据类型, 如 `int`, `float`, `str`, `bool` 等。

但你也可以使用其他更复杂的数据类型。

这里有一些你可以使用的其他数据类型:

* `UUID`: 标准的 "通用唯一标识符", 常用作数据库中记录的 ID
* `datetime.datetime`: 日期和时间, 如 `2015-09-21T12:04:00`
* `datetime.date`: 日期, 如 `2015-09-21`
* `datetime.time`: 时间, 如 `12:04:00`
* `datetime.timedelta`: 一段时间的持续时间, 如 `1 day 2 hours`
* `frozenset`: 类似于 `set`, 但是不可变
* `bytes`: 标准 Python `bytes`
* `Decimal`: 标准 Python `Decimal`
* `Path`: 来自 `pathlib.Path`

## 2. 示例

```python
# 导入日期时间相关的模块
from datetime import datetime, time, timedelta
# 导入 Union 类型
from typing import Union
# 导入 UUID
from uuid import UUID

# 导入 FastAPI 相关类
from fastapi import Body, FastAPI
# 导入 Pydantic BaseModel
from pydantic import BaseModel

# 创建应用实例
app = FastAPI()


# 定义 Item 数据模型, 使用额外的数据类型
class Item(BaseModel):
    # 开始日期, datetime 类型
    start_date: datetime | None = None
    # 结束日期, datetime 类型
    end_date: datetime | None = None
    # 开始时间, time 类型
    start_time: time | None = None
    # 结束时间, time 类型
    end_time: time | None = None
    # 重复时间, time 类型
    repeat_at: time | None = None
    # 处理延迟, timedelta 类型
    process_after: timedelta | None = None


# 定义 PUT 路径操作, item_id 使用 UUID 类型
@app.put("/items/{item_id}")
async def update_item(item_id: UUID, item: Item):
    # 返回包含 item_id 和 item 的结果
    results = {"item_id": item_id, "item": item}
    return results
```

## 3. 总结

使用这些额外的数据类型, FastAPI 支持:

* UUID
* 日期和时间
* 时间间隔
* 以及许多其他数据类型

FastAPI 会验证它们并在文档中转换为正确的类型。
