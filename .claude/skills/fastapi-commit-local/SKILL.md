---
name: fastapi-commit-local
description: 仅在本地提交代码，不推送远程仓库，不处理下一章节
allowed-tools: Write, Read, Edit, Bash
---

# FastAPI 本地提交 Skill

## 功能
仅在本地提交 Git 代码，更新学习日志和统计信息。不推送到远程仓库，不自动处理下一章节。

## 使用方法
在对话中说 "仅提交" 或 "commit local"

## 执行流程

### 1. 读取学习日志
读取 `docs/学习日志.md` 获取当前学习统计和进度

### 2. 计算学习时间
- 获取上一次提交的时间
- 计算从上次提交到现在的时间差
- 格式化为小时和分钟

### 3. 更新学习日志
更新 `docs/学习日志.md`:
- 累计学习时间
- 更新完成章节数量
- 计算完成进度百分比
- 更新当前进度
- 添加今日学习记录

### 4. 本地提交
执行 Git 操作:
```bash
git add .
git commit -m "[章节X] {章节名称} | 学习时间: X小时X分钟 | 累计: X小时X分钟 | 进度: X.X%"
```

### 5. 完成提示
提交成功后显示:
- 提交的哈希值
- 本次学习时间
- 累计学习时间
- 当前进度
- **注意**: 代码未推送到远程仓库，如需推送请手动执行 `git push`

## 与 fastapi-commit 的区别

| 功能 | fastapi-commit | fastapi-commit-local |
|------|----------------|---------------------|
| 更新学习日志 | ✓ | ✓ |
| 本地提交 | ✓ | ✓ |
| 推送远程 | ✓ | ✗ |
| 处理下一章 | ✓ | ✗ |

## 使用场景
- 离线学习时保存进度
- 暂时不推送到远程仓库
- 只想保存当前章节学习成果
- 批量学习后统一提交

## 提交信息格式
```
[章节{序号}] {章节名称} | 学习时间: {本次}小时{本次}分钟 | 累计: {累计}小时{累计}分钟 | 进度: {百分比}%
```

示例:
```
[章节03] 查询参数 | 学习时间: 0小时45分钟 | 累计: 2小时15分钟 | 进度: 4.6%
```
